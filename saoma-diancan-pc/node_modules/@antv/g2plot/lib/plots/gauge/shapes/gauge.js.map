{"version":3,"file":"gauge.js","sourceRoot":"","sources":["../../../../src/plots/gauge/shapes/gauge.ts"],"names":[],"mappings":";;;AAAA,+BAAgD;AAGhD,cAAc;AACd,kBAAa,CAAC,OAAO,EAAE,iBAAiB,EAAE;IACxC,IAAI,EAAJ,UAAK,GAAoB,EAAE,SAAS;QAClC,qBAAqB;QACf,IAAA,KAA8B,GAAG,CAAC,UAAU,EAA1C,SAAS,eAAA,EAAE,YAAY,kBAAmB,CAAC;QAC7C,IAAA,KAAmB,SAAsB,EAAvC,OAAO,aAAA,EAAE,GAAG,SAA2B,CAAC;QAEhD,IAAM,KAAK,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;QACnC,eAAe;QACf,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAC/C,OAAO;QACP,IAAI,OAAO,EAAE;YACX,UAAU;YACV,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE;gBACrB,IAAI,EAAE,SAAS;gBACf,KAAK,qBACH,EAAE,EAAE,MAAM,CAAC,CAAC,EACZ,EAAE,EAAE,MAAM,CAAC,CAAC,EACZ,EAAE,EAAE,GAAG,CAAC,CAAC,EACT,EAAE,EAAE,GAAG,CAAC,CAAC,EACT,MAAM,EAAE,YAAY,IACjB,OAAO,CAAC,KAAK,CACjB;aACF,CAAC,CAAC;SACJ;QAED,MAAM;QACN,IAAI,GAAG,EAAE;YACP,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE;gBACvB,IAAI,EAAE,KAAK;gBACX,KAAK,qBACH,CAAC,EAAE,MAAM,CAAC,CAAC,EACX,CAAC,EAAE,MAAM,CAAC,CAAC,EACX,MAAM,EAAE,YAAY,IACjB,GAAG,CAAC,KAAK,CACb;aACF,CAAC,CAAC;SACJ;QACD,OAAO,KAAK,CAAC;IACf,CAAC;CACF,CAAC,CAAC","sourcesContent":["import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// 自定义Shape 部分\nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    // 使用 customInfo 传递参数\n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // 获取极坐标系下画布中心点\n    const center = this.parsePoint({ x: 0, y: 0 });\n    // 绘制指针\n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n"]}