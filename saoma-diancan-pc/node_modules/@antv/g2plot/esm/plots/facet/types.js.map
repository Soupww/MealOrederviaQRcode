{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../src/plots/facet/types.ts"],"names":[],"mappings":"","sourcesContent":["import { View, Types } from '@antv/g2';\nimport { Data, Meta, Options, Tooltip } from '../../types';\nimport { Axis } from '../../types/axis';\nimport { Legend } from '../../types/legend';\nimport { Geometry } from '../../adaptor/geometries/base';\nimport { Animation } from '../../types/animation';\nimport { Annotation } from '../../types/annotation';\nimport { Interaction } from '../../types/interaction';\nimport { IPlotTypes } from '../mix/utils';\n\n/**\n * geometry 映射信息\n */\nexport type IGeometry = Geometry & {\n  adjust?: Types.AdjustOption;\n};\n\n/**\n * 子 view 的配置。\n * 1. 暂时不开嵌套 view 的情况\n * 2. 暂不开放 分面子 view 的 meta 独立设置\n */\nexport type IView = {\n  /**\n   * 图形 geometry 及映射配置\n   */\n  readonly geometries: IGeometry[];\n\n  /**\n   * 1. optional，view 中的数据，默认由分面数据来根据拆分维度值进行分配\n   */\n  readonly data?: Data;\n\n  /**\n   * 2. meta\n   */\n  readonly meta?: Record<string, Axis>;\n\n  /**\n   * 3. 坐标系的配置，每一个 view 具有相同的坐标系\n   */\n  readonly coordinate?: Types.CoordinateOption;\n\n  /**\n   * 4. 坐标轴配置\n   */\n  readonly axes?: false | Record<string, Axis>;\n\n  /**\n   * 5. interactions 配置\n   */\n  readonly interactions?: Interaction[];\n\n  /**\n   * 6. annotation 配置\n   */\n  readonly annotations?: Annotation[];\n\n  /**\n   * 7. animation 配置\n   */\n  readonly animation?: Animation;\n\n  /**\n   * 8. tooltip 配置\n   */\n  readonly tooltip?: Tooltip;\n};\n\n/**\n * 子 plot 的配置\n */\nexport type IPlot = IPlotTypes;\n/**\n * facetData map\n */\ntype FacetDataMap = {\n  /** rect 类型分面配置 */\n  readonly rect: Types.RectData;\n  /** mirror 类型分面配置 */\n  readonly mirror: Types.MirrorData;\n  /** list 类型分面配置 */\n  readonly list: Types.ListData;\n  /** matrix 类型分面配置 */\n  readonly matrix: Types.MatrixData;\n  /** circle 类型分面配置 */\n  readonly circle: Types.CircleData;\n  /** tree 类型分面配置 */\n  readonly tree: Types.TreeData;\n};\n\ntype FacetCfg = Types.MirrorCfg & Types.RectCfg & Types.TreeCfg & Types.ListCfg & Types.CircleCfg & Types.MatrixCfg;\n\n/** 分面图的配置类型定义 */\nexport interface FacetOptions<T extends keyof Types.FacetCfgMap = keyof Types.FacetCfgMap> extends Options, FacetCfg {\n  /**\n   * 分面类型，G2 内置了六种分面: rect、list、circle、tree、mirror 和 matrix\n   */\n  readonly type: T;\n  /**\n   * 数据划分维度。\n   */\n  readonly fields: string[];\n  /**\n   * 分面数据\n   */\n  readonly data: Data;\n\n  /**\n   * 每个分面 view 中的具体绘图表现\n   * 回调的方式\n   */\n  readonly eachView: (innerView: View, facet?: FacetDataMap[T]) => IView | IPlot;\n  /**\n   * 是否展示分面标题\n   */\n  readonly showTitle?: boolean;\n\n  /**\n   * 3. facet 中对应的 meta 字段配置\n   */\n  readonly meta?: Record<string, Meta>;\n\n  /**\n   * 4. 坐标系的配置，每一个 view 具有相同的坐标系\n   */\n  readonly coordinate?: Types.CoordinateOption;\n\n  /**\n   * 5. 轴配置\n   */\n  readonly axes?: false | Record<string, Axis>;\n\n  /**\n   * 6. tooltip 配置\n   */\n  readonly tooltip?: Tooltip;\n\n  /**\n   * 7. 图例配置\n   */\n  readonly legend?: Legend;\n\n  /**\n   * 8. 图例配置\n   */\n  readonly interactions?: Interaction[];\n}\n"]}