{"version":3,"file":"scale-in.js","sourceRoot":"","sources":["../../../src/animate/animation/scale-in.ts"],"names":[],"mappings":"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","sourcesContent":["import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * 沿着 x 方向放大的动画\n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x 数值如果为负值，那么应该从右往左生长\n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n * 沿着 y 方向放大的动画\n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  // 数值如果为负值，那么应该从上往下生长，通过 shape 的关键点进行判断\n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n"]}