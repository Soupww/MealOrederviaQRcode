{"remainingRequest":"E:\\Uni-app\\saoma-diancan-pc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Uni-app\\saoma-diancan-pc\\src\\page\\login\\login.vue?vue&type=style&index=0&id=79d5601c&scoped=scoped&lang=css&","dependencies":[{"path":"E:\\Uni-app\\saoma-diancan-pc\\src\\page\\login\\login.vue","mtime":1661332687702},{"path":"E:\\Uni-app\\saoma-diancan-pc\\node_modules\\css-loader\\index.js","mtime":1661081561122},{"path":"E:\\Uni-app\\saoma-diancan-pc\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1661081554188},{"path":"E:\\Uni-app\\saoma-diancan-pc\\node_modules\\postcss-loader\\src\\index.js","mtime":1661081555326},{"path":"E:\\Uni-app\\saoma-diancan-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661081563152},{"path":"E:\\Uni-app\\saoma-diancan-pc\\node_modules\\vue-loader\\lib\\index.js","mtime":1661081552174}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#backcont {\n\tbackground-image: url(../../../static/login/beijing.jpg);\n\tbackground-attachment: fixed;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n\t-webkit-background-size: cover;\n\tmoz-background-size: cover;\n\tmin-height: 100vh;\n}\n.meituan-content {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n}\n.login-cont {\n\twidth: 500px;\n\theight: 300px;\n\tbackground: #f9de80;\n\tborder-radius: 5px;\n}\n.meituan-title {\n\ttext-align: center;\n\tcolor: #000000;\n\tfont-size: 30px;\n\tpadding-top: 30px;\n\tfont-family: Arial, Helvetica, sans-serif;\n}\n.meituan-user {\n\twidth: 400px;\n\tmargin: 0 auto;\n\tpadding-top: 30px;\n\theight: 40px;\n\tdisplay: flex;\n\talign-items: center;\n}\r\n\r\n.meituan-user p{width: 50px; color: #000000;\r\nfont-size:16px;\r\n}\r\n\r\n.inptflex{flex: 1;}\r\n\r\n.reg-view{\r\n\twidth: 400px;\r\n\tdisplay: flex;\r\n\tjustify-content: flex-end;\r\n\tmargin: 0 auto;\r\n\tpadding-top: 10px;\r\n\tcursor:pointer;\r\n}\n\n.meituan-btn {\n\twidth: 200px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin: 20px auto 0 auto;\r\n\tfont-size: 16px;\n}\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/page/login","sourcesContent":["<template>\r\n\t<div id=\"backcont\">\r\n\t\t<!-- logo -->\r\n\t\t<div class=\"meituan-content\">\r\n\t\t\t<div class=\"login-cont\">\r\n\t\t\t\t<div class=\"meituan-title\">扫码点餐商户端</div>\r\n\t\t\t\t<div class=\"meituan-user\">\r\n\t\t\t\t\t<p>账号</p>\r\n\t\t\t\t\t<el-input class=\"inptflex\" v-model=\"account\" placeholder=\"请输入账号\"></el-input>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"meituan-user\">\r\n\t\t\t\t\t<p>密码</p>\r\n\t\t\t\t\t<el-input class=\"inptflex\" v-model=\"password\" placeholder=\"请输入密码\" show-password></el-input>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- 注册 -->\r\n\t\t\t\t<div class=\"reg-view\" @click=\"regiBtn()\">{{regi}}</div>\r\n\t\t\t\t<!-- 登录或注册 -->\r\n\t\t\t\t<el-button v-if=\"regi == '注册'\" type=\"success\" class=\"meituan-btn\" @click=\"signin()\" :loading=\"load\" :disabled=\"load\">登录</el-button>\r\n\t\t\t\t<el-button v-else type=\"success\" class=\"meituan-btn\" @click=\"register()\" :loading=\"load\" :disabled=\"load\">注册</el-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\n</template>\n\n<script>\r\nexport default{\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tregi:'注册',\r\n\t\t\tload:false,\r\n\t\t\taccount: '',\r\n\t\t\tpassword:''\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\t// 切换登录注册\r\n\t\tregiBtn(){\r\n\t\t\tthis.regi = this.regi == '登录' ? '注册' : '登录'\r\n\t\t},\r\n\t\t// 注册\r\n\t\tasync register(){\r\n\t\t\tthis.load = true\r\n\t\t\tlet obj = {account:this.account,password:this.password}\r\n\t\t\ttry{\r\n\t\t\t\tlet res = await new this.Request(this.Urls.m().register,this.$qs.stringify(obj)).modepost()\r\n\t\t\t\tif(res.status != 200){\r\n\t\t\t\t\tnew this.mytitle(this.$message,'warning',res.data.msg).funtitle()\r\n\t\t\t\t}else if(res.status == 200){\r\n\t\t\t\t\tthis.regi = '注册'\r\n\t\t\t\t}\r\n\t\t\t\tthis.load = false\r\n\t\t\t}catch(e){\r\n\t\t\t\tthis.load = false\r\n\t\t\t\tnew this.mytitle(this.$message,'info','发生错误,重试').funtitle()\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 登录\r\n\t\tasync signin(){\r\n\t\t\tthis.load = true\r\n\t\t\tlet obj = {account:this.account,password:this.password}\r\n\t\t\ttry{\r\n\t\t\t\tlet res = await new this.Request(this.Urls.m().login,this.$qs.stringify(obj)).modepost()\r\n\t\t\t\tif(res.status != 200){\r\n\t\t\t\t\tconsole.log('123')\r\n\t\t\t\t\tnew this.mytitle(this.$message,'warning',res.data.msg).funtitle()\r\n\t\t\t\t}else if(res.status == 200){\r\n\t\t\t\t\tlet ids = '1'\r\n\t\t\t\t\tlocalStorage.setItem(\"nuvmenuid\", JSON.stringify(ids))\r\n\t\t\t\t\tlocalStorage.setItem(\"token\", res.data.data.token)\r\n\t\t\t\t\t// 查询商家信息数据库\r\n\t\t\t\t\t// 登录成功之后查询商家信息数据库，是否有还商家信息\r\n\t\t\t\t\t// 有的话就跳转到index主界面。\r\n\t\t\t\t\t// 否则的话跳转到商家信息上传界面\r\n\t\t\t\t\tlet infor = await new this.Request(this.Urls.m().obtainshop).modeget()\r\n\t\t\t\t\tif(infor.data.data.length == 0){\r\n\t\t\t\t\t\tthis.$router.push({name:'modify-infor'})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tlocalStorage.setItem(\"company\", infor.data.data[0].name)\r\n\t\t\t\t\t\tthis.$router.push({name:'index'})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.load = false\r\n\t\t\t}catch(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.load = false\r\n\t\t\t\tnew this.mytitle(this.$message,'info','发生错误,重试').funtitle()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n</script>\n\n<style scoped=\"scoped\">\n#backcont {\n\tbackground-image: url(../../../static/login/beijing.jpg);\n\tbackground-attachment: fixed;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n\t-webkit-background-size: cover;\n\tmoz-background-size: cover;\n\tmin-height: 100vh;\n}\n.meituan-content {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n}\n.login-cont {\n\twidth: 500px;\n\theight: 300px;\n\tbackground: #f9de80;\n\tborder-radius: 5px;\n}\n.meituan-title {\n\ttext-align: center;\n\tcolor: #000000;\n\tfont-size: 30px;\n\tpadding-top: 30px;\n\tfont-family: Arial, Helvetica, sans-serif;\n}\n.meituan-user {\n\twidth: 400px;\n\tmargin: 0 auto;\n\tpadding-top: 30px;\n\theight: 40px;\n\tdisplay: flex;\n\talign-items: center;\n}\r\n\r\n.meituan-user p{width: 50px; color: #000000;\r\nfont-size:16px;\r\n}\r\n\r\n.inptflex{flex: 1;}\r\n\r\n.reg-view{\r\n\twidth: 400px;\r\n\tdisplay: flex;\r\n\tjustify-content: flex-end;\r\n\tmargin: 0 auto;\r\n\tpadding-top: 10px;\r\n\tcursor:pointer;\r\n}\n\n.meituan-btn {\n\twidth: 200px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin: 20px auto 0 auto;\r\n\tfont-size: 16px;\n}\n</style>\n"]}]}